bits 32 ; target processor mode

; import fucntion 
extern puts

section .text	; text section containing code
global strlen_custom;
strlen_custom:
	push ebp
	mov ebp,  esp
	xor eax, eax
	xor ecx, ecx
	dec ecx
	mov edi, [ebp + 0x8]
	repnz scasb
	neg ecx
	sub ecx, 2
	mov eax, ecx
	leave
	ret
global main	; int main ... (not static or private in OOP)
main:
	push ebp
	mov ebp, esp
	push welcome
	call puts

	push message
	call strlen_custom
	mov edx, eax	; size
	mov eax, 0x4
	mov ebx, 1	; stdou
	mov ecx,  message	;buffer	
	int 0x80
	
	leave
	ret

section .rodata
welcome: db "--- asm #1 ---",0
message: db "Hello, World!", 0x0A,0 
