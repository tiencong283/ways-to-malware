bits 32 ; target processor mode

; import fucntion 
extern scanf
extern printf
extern puts

section .text	; text section containing code
global add_numbers
add_numbers:
	mov eax, dword[esp + 0x4]
	mov ebx, dword[esp + 0x8]
	add eax, ebx
	ret

global main	; int main ... (not static or private in OOP)
main:
	push ebp
	mov ebp, esp
	sub esp, 0x100

	push welcome
	call puts
	
	lea ebx, [ebp - 0x4]
	push ebx	; a
	push imod
	call scanf

	lea edx, [ebp - 0x8]
	push edx	; b
	push imod
	call scanf

	push dword[ebp - 0x4]
	push dword[ebp - 0x8]
	call add_numbers	; a + b
	push eax
	push imod
	call printf
	leave
	ret

section .rodata
welcome: db "--- asm #4 ---",0
imod: db "%d", 0
